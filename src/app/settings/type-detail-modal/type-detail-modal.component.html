<div class="modal-container" style="max-width: 500px;">
  <div class="modal-header">
    <h4 class="modal-title">{{title}}</h4>
    <button type="button" class="close" aria-label="Close"
      (click)="activeModal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div>
    <div class="modal-body">

      <ng-container *ngIf="type === 'semi-products'">
        <textinput
                label="Name"
                [form]="form.get('name')"
                style="width: 100%"
                placeholder="Enter name"
                i18n-label="@@semiProductDetail.textinput.name.label"
                i18n-placeholder="@@semiProductDetail.textinput.name.placeholder"
                [isInvalid]="submitted && form.get('name').invalid">
          <ng-container *ngIf="submitted">
            <div *ngIf="form.get('name').errors as errors" class="sc-invalid-feedback">
              <div *ngIf="errors.required" i18n="@@semiProductDetail.textinput.name.error">
                <span>
                  Name is required
                </span>
              </div>
            </div>
          </ng-container>
        </textinput>

        <textinput
                label="Description"
                [form]="form.get('description')"
                style="width: 100%"
                [textarea]="true"
                helpText="Enter short semi-product description."
                i18n-label="@@semiProductDetail.textinput.description.label"
                i18n-helpText="@@semiProductDetail.textinput.description.helpText"
                [isInvalid]="submitted && form.get('description').invalid">
          <ng-container *ngIf="submitted">
            <div *ngIf="form.get('description').errors as errors" class="sc-invalid-feedback">
              <div *ngIf="errors.required" i18n="@@semiProductDetail.textinput.description.error">
                <span>
                  Description is required
                </span>
              </div>
            </div>
          </ng-container>
        </textinput>

        <single-choice
                label="Measurement unit type"
                i18n-label="@@productLabelStockSKUModal.measurementUnitType.label"
                [formControlInput]="form.get('apiMeasureUnitType')"
                [codebookService]="activeMeasureUnitTypeService"
                [isInvalidChoice]="submitted && form.get('apiMeasureUnitType').invalid">
          <ng-container *ngIf="submitted">
            <div *ngIf="form.get('apiMeasureUnitType').errors as errors" class="sc-invalid-feedback">
              <div *ngIf="errors.required" i18n="@@semiProductDetail.singleChoice.measurementUnit.error.requred">
                Measure unit is required
              </div>
            </div>
          </ng-container>
        </single-choice>

        <checkbox-input [form]="form.get('buyable')">
          <checkbox-input-rich-label style="font-weight: 300;" i18n="@@semiProductDetail.checkbox-input.isSemiProductBuyable">
            Is buyable at producer
          </checkbox-input-rich-label>
        </checkbox-input>

        <checkbox-input [form]="form.get('sku')">
          <checkbox-input-rich-label style="font-weight: 300;" i18n="@@semiProductDetail.checkbox-input.isSemiProductSKU">
            Is stock keeping unit at producer
          </checkbox-input-rich-label>
        </checkbox-input>

        <checkbox-input [form]="form.get('skuendCustomer')">
          <checkbox-input-rich-label style="font-weight: 300;" i18n="@@semiProductDetail.checkbox-input.isSemiProductSKUEndCustomer">
            Is stock keeping unit at end customer
          </checkbox-input-rich-label>
        </checkbox-input>
      </ng-container>

      <ng-container *ngIf="this.type !== 'semi-products'">
        <textinput *ngIf="this.type !== 'processing-evidence-fields'"
                hideAsterisk="true"
                [form]="form.get('code')"
                label="Id"
                [disabled]="update"
                style="width: 100%"
                placeholder="Enter id"
                i18n-label="@@facilityTypeDetail.textinput.id.label"
                i18n-placeholder="@@facilityTypeDetail.textinput.id.placeholder"
                [isInvalid]="submitted && form.get('code').invalid"
                [readOnly]="this.update">
          <ng-container *ngIf="submitted">
            <div *ngIf="form.get('code').errors as errors" class="sc-invalid-feedback">
              <div *ngIf="errors.wrongInput" i18n="@@facilityTypeDetail.textinput.id.error">
                Id should contain only capital letters, numbers and / or underscores
              </div>
              <div *ngIf="errors.required" i18n="@@facilityTypeDetail.textinput.id.errorRequired">
                Id is required
              </div>
            </div>
          </ng-container>
        </textinput>

        <textinput
                hideAsterisk="true"
                [form]="form.get('label')"
                label="Label"
                style="width: 100%"
                placeholder="Enter label"
                i18n-label="@@facilityTypeDetail.textinput.label.label"
                i18n-placeholder="@@facilityTypeDetail.textinput.label.placeholder"
                [isInvalid]="submitted && form.get('label').invalid">
          <ng-container *ngIf="submitted">
            <div *ngIf="form.get('label').errors as errors" class="sc-invalid-feedback">
              <div *ngIf="errors.required" i18n="@@facilityTypeDetail.textinput.label.error">
                Label is required
              </div>
            </div>
          </ng-container>
        </textinput>
      </ng-container>

      <ng-container *ngIf="this.type === 'measurement-unit-types'">
        <textinput
          hideAsterisk="true"
          [form]="form.get('weight')"
          label="Weight (in kg)"
          style="width: 100%"
          placeholder="Enter weight"
          i18n-label="@@facilityTypeDetail.textinput.weight.label"
          i18n-placeholder="@@facilityTypeDetail.textinput.weight.placeholder"
          [isInvalid]="submitted && form.get('weight').invalid"
          type="number">
        </textinput>

        <single-choice
          label="Underlying measure unit"
          i18n-label="@@facilityTypeDetail.single-choice.underlyingMeasurementUnit.label"
          [formControlInput]="form.get('underlyingMeasurementUnitType')"
          [codebookService]="activeMeasureUnitTypeService">
        </single-choice>
      </ng-container>

      <ng-container *ngIf="this.type === 'processing-evidence-types'">
        <single-choice
          label="Type"
          i18n-label="@@productLabelProcessingAction.transactionType.label"
          [formControlInput]="form.get('type')"
          [codebookService]="codebookProcessingEvidenceTypeType"
          [isInvalidChoice]="submitted && form.get('type').invalid">
          <ng-container *ngIf="submitted">
            <div *ngIf="form.get('type').errors as errors" class="sc-invalid-feedback">
              <div *ngIf="errors.required" i18n="@@productLabelProcessingAction.singleChoice.type.error.requred">
                Type is required
              </div>
            </div>
          </ng-container>
        </single-choice>

        <label class="mb-0 mt-3">
          Indicators
        </label>
        <checkbox-input [form]="form.get('fairness')">
          <checkbox-input-rich-label style="font-weight: 300;" i18n="@@typeDetailModal.processingEvidenceType.checkbox.fairness">
            Fairness
          </checkbox-input-rich-label>
        </checkbox-input>

        <checkbox-input [form]="form.get('provenance')">
          <checkbox-input-rich-label style="font-weight: 300;" i18n="@@typeDetailModal.processingEvidenceType.checkbox.provenance">
            Provenance
          </checkbox-input-rich-label>
        </checkbox-input>

        <checkbox-input [form]="form.get('quality')">
          <checkbox-input-rich-label style="font-weight: 300;" i18n="@@typeDetailModal.processingEvidenceType.checkbox.quality">
            Quality
          </checkbox-input-rich-label>
        </checkbox-input>
      </ng-container>

      <ng-container *ngIf="this.type === 'processing-evidence-fields'">

        <textinput
                [form]="form.get('fieldName')"
                label="Field name"
                style="width: 100%"
                placeholder="Enter field name"
                i18n-label="@@procEvidenceField.fieldName.label"
                i18n-placeholder="@@procEvidenceField.fieldName.placeholder"
                [isInvalid]="submitted && form.get('fieldName').invalid">
          <ng-container *ngIf="submitted">
            <div *ngIf="form.get('fieldName').errors as errors" class="sc-invalid-feedback">
              <div *ngIf="errors.wrongInput" i18n="@@facilityTypeDetail.textinput.id.error">
                Id should contain only capital letters, numbers and / or underscores
              </div>
              <div *ngIf="errors.required" i18n="@@procEvidenceField.fieldName.error.required">
                Field name is required
              </div>
            </div>
          </ng-container>
        </textinput>

        <single-choice
                label="Type"
                i18n-label="@@productLabelProcessingAction.evidenceFieldType.label"
                [formControlInput]="form.get('type')"
                [codebookService]="codebookProcessingEvidenceFieldType"
                [isInvalidChoice]="submitted && form.get('type').invalid">
          <ng-container *ngIf="submitted">
            <div *ngIf="form.get('type').errors as errors" class="sc-invalid-feedback">
              <div *ngIf="errors.required" i18n="@@productLabelProcessingAction.singleChoice.type.error.requred">
                Type is required
              </div>
            </div>
          </ng-container>
        </single-choice>

      </ng-container>

    </div>
  </div>
  <div class="modal-footer" i18n="@@collectorDetail.modal.footer.buttons">
    <button class="btn btn-outlined" data-dismiss="modal" type="button" (click)="dismiss()"><span>Cancel</span></button>
    <button class="btn" type="button" (click)="save(); saveCallback && saveCallback();"><span>Save</span></button>
  </div>
</div>
